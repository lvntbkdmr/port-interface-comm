# Cross-compilation toolchain file template
# Copy this file to toolchain-target.cmake and customize for your target
#
# Usage:
#   cmake -B build-target -DCMAKE_TOOLCHAIN_FILE=cmake/toolchain-target.cmake -DBUILD_TESTS=OFF
#   cmake --build build-target

# Target system configuration
set(CMAKE_SYSTEM_NAME Generic)           # Or: Linux, Windows, QNX, VxWorks, etc.
set(CMAKE_SYSTEM_PROCESSOR arm)          # Or: x86_64, aarch64, powerpc, etc.

# Cross-compiler paths (adjust to your toolchain)
set(TOOLCHAIN_PREFIX "/path/to/toolchain")
set(TARGET_TRIPLE "arm-none-eabi")       # Or your target triple

set(CMAKE_C_COMPILER   "${TOOLCHAIN_PREFIX}/bin/${TARGET_TRIPLE}-gcc")
set(CMAKE_CXX_COMPILER "${TOOLCHAIN_PREFIX}/bin/${TARGET_TRIPLE}-g++")
set(CMAKE_AR           "${TOOLCHAIN_PREFIX}/bin/${TARGET_TRIPLE}-ar")
set(CMAKE_RANLIB       "${TOOLCHAIN_PREFIX}/bin/${TARGET_TRIPLE}-ranlib")

# Sysroot (if applicable)
# set(CMAKE_SYSROOT "${TOOLCHAIN_PREFIX}/${TARGET_TRIPLE}/sysroot")

# Search paths configuration
set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)

# Disable tests for cross-compilation (tests run on host only)
set(BUILD_TESTS OFF CACHE BOOL "Disable tests for cross-compile" FORCE)

# Optional: Target-specific compiler flags
# set(CMAKE_C_FLAGS_INIT "-mcpu=cortex-a9 -mfpu=neon")
# set(CMAKE_CXX_FLAGS_INIT "-mcpu=cortex-a9 -mfpu=neon")
